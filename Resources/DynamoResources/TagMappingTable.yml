Type: AWS::DynamoDB::Table
Properties:
  TableName: TagMappingTable
  AttributeDefinitions:
    - AttributeName: tagName
      AttributeType: S
    - AttributeName: createdAt
      AttributeType: S
    - AttributeName: mappingType
      AttributeType: S
    - AttributeName: mappedWithId
      AttributeType: S
  KeySchema:
    - AttributeName: tagName 
      KeyType: HASH
    - AttributeName: createdAt 
      KeyType: RANGE
  GlobalSecondaryIndexes:
    - IndexName: byMappingTypes
      KeySchema:
        - AttributeName: mappingType
          KeyType: HASH
      Projection:
        ProjectionType: ALL    
    - IndexName: byMappedId
      KeySchema:
        - AttributeName: mappedWithId
          KeyType: HASH
      Projection:
        ProjectionType: ALL    
  BillingMode: PAY_PER_REQUEST    